<form #f="ngForm">
  <h1>Title of Document</h1>
  <div class="form-group">
    <div class="form-inline">
      <input type="text" id="title" style="width: 50%;" class="form-control" [(ngModel)]="replyInfo.brief.title" #title="ngModel" maxlength="100" name="title" placeholder="Example Brief" required>
      <div *ngIf="title.invalid && (title.dirty || title.touched)" class="alert alert-danger" id="title-errors">
        <div *ngIf="title.errors.required">
          Document must have a title.
        </div>
        <div *ngIf="title.errors.maxlength">
          Document title cannot be that long.
        </div>
      </div>
    </div>
  </div>
  <h1>Your Information</h1>
  <div class="form-group">
    <label for="name" class="col-form-label">Name</label>
    <input type="text" id="name" class="form-control" [(ngModel)]="replyInfo.brief.contactInfo.name" #name="ngModel" minlength="4" maxlength="100" name="name" placeholder="John Doe" required autocomplete="name">
    <div *ngIf="name.invalid && (name.dirty || name.touched)" class="alert alert-danger" id="name-errors">
      <div *ngIf="name.errors.required">
        Name is required.
      </div>
      <div *ngIf="name.errors.minlength">
        Name must be at least 4 characters long.
      </div>
      <div *ngIf="name.errors.maxlength">
        Name cannot be that long.
      </div>
    </div>
  </div>
  <div class="form-group">
    <label for="street" class="col-form-label">Address</label>
    <input type="text" id="street" class="form-control" [(ngModel)]="replyInfo.brief.contactInfo.address.street" #street="ngModel" name="street" placeholder="1234 Main St." required autocomplete="address-line1">
    <div *ngIf="street.invalid && (street.dirty || street.touched)" class="alert alert-danger" id="street-errors">
      <div *ngIf="street.errors">
        Address is required.
      </div>
    </div>
  </div>
  <div class="form-group">
    <label for="street2" class="col-form-label">Address Line 2</label>
    <input type="text" id="street2" class="form-control" [(ngModel)]="replyInfo.brief.contactInfo.address.street2" name="street2" placeholder="Apartment, studio, or floor" autocomplete="address-line2">
  </div>
  <div class="row">
    <div class="form-group col-md-6">
      <label for="city" class="col-form-label">City</label>
      <input type="text" id="city" class="form-control" [(ngModel)]="replyInfo.brief.contactInfo.address.city" #city="ngModel" name="city" placeholder="City" required autocomplete="address-level2">
      <div *ngIf="city.invalid && (city.dirty || city.touched)" class="alert alert-danger" id="city-errors">
        <div *ngIf="city.errors">
          City name is required.
        </div>
      </div>
    </div>
    <div class="form-group col-md-4">
      <label for="state" class="col-form-label">State</label>
      <select id="state" [(ngModel)]="replyInfo.brief.contactInfo.address.state" #state="ngModel" name="state" class="form-control" required>
        <option *ngFor="let k of stateKeys" [value]="k">{{states[k]}}</option>
      </select>
      <div *ngIf="state.invalid && (state.dirty || state.touched)" class="alert alert-danger">
        <div *ngIf="state.errors">
          State is required.
        </div>
      </div>
    </div>
    <div class="form-group col-md-2">
      <label for="zip" class="col-form-label">Zip</label>
      <input type="text" id="zip" class="form-control" [(ngModel)]="replyInfo.brief.contactInfo.address.zip" #zip="ngModel" pattern="^\d{5}(?:[ \-]\d{4})?" name="zip" placeholder="12345" required autocomplete="postal-code">
      <div *ngIf="zip.invalid && (zip.dirty || zip.touched)" class="alert alert-danger" id="zip-errors">
        <div *ngIf="zip.errors.required">
          Zip is required and must be a number.
        </div>
        <div *ngIf="zip.errors.pattern">
          Zip may only contain 5 numbers or 9 numbers with a dash or space after the 5th number.
        </div>
      </div>
    </div>
  </div>
  <div class="form-group">
    <label for="phone" class="col-form-label">Phone</label>
    <input type="tel" id="phone" class="form-control" [(ngModel)]="replyInfo.brief.contactInfo.phone" #phone="ngModel" pattern="^(\+\d{1,2}\s)?\(?\d{3}\)?[\s.-]?\d{3}[\s.-]?\d{4}$" name="phone" placeholder="(123) 456-7890" required autocomplete="tel-national">
    <div *ngIf="phone.invalid && (phone.dirty || phone.touched)" class="alert alert-danger" id="phone-errors">
      <div *ngIf="phone.errors">
        Valid phone number is required.
      </div>
    </div>
  </div>
  <div class="form-group">
    <label for="email" class="col-form-label">Email</label>
    <input type="email" id="email" class="form-control" [(ngModel)]="replyInfo.brief.contactInfo.email" ngModel [email]="true" #email="ngModel" name="email" placeholder="johndoe@example.com" required autocomplete="email">
    <div *ngIf="email.invalid && (email.dirty || email.touched)" class="alert alert-danger" id="email-errors">
      <div *ngIf="email.errors">
        Valid email is required.
      </div>
    </div>
  </div>
  <h1>Case Information</h1>
  <div class="form-group">
    <label for="county" class="col-form-label">County</label>
    <select class="form-control" id="county" [(ngModel)]="replyInfo.brief.circuitCourtCase.county" #county="ngModel" name="county" required>
      <option *ngFor="let k of countyKeys" [value]="k">{{counties[k]}}</option>
    </select>
    <div *ngIf="county.invalid && (county.dirty || county.touched)" class="alert alert-danger" id="county-errors">
      <div *ngIf="county.errors">
        County is required.
      </div>
    </div>
  </div>
  <div class="form-group">
    <label for="circuitCourtCaseNumber" class="col-form-label" aria-describedby="circuitCourtCaseNumberHelp">Circuit Court Case Number</label>
    <input type="text" id="circuitCourtCaseNumber" class="form-control" [(ngModel)]="replyInfo.brief.circuitCourtCase.caseNumber" #circuitCourtCaseNumber="ngModel" name="circuitCourtCaseNumber" pattern="^\d{4}\w{2}\d{1,}$" placeholder="0000XX0000" required>
    <div *ngIf="circuitCourtCaseNumber.invalid && (circuitCourtCaseNumber.dirty || circuitCourtCaseNumber.touched)" class="alert alert-danger" id="circuitCourtCaseNumber-errors">
      <div *ngIf="circuitCourtCaseNumber.errors">
        The pattern for the circuit court case number is year (Ex: 2017), two court letters (Ex: CV), and then case number (Ex: 1234)
      </div>
    </div>
    <small id="circuitCourtCaseNumberHelp" class="form-text text-muted">
      You will find your circuit court case number on the document called Notice of Appeal and Circuit Court Record that you received from the court of appeals. Example: "No. 2017CV471."
    </small>
  </div>
  <div class="row">
    <div class="form-group col-md-6">
      <label for="judgeFname" class="col-form-label" aria-describedby="judgeHelp">Judge First Name</label>
      <input type="text" id="judgeFname" class="form-control" [(ngModel)]="replyInfo.brief.circuitCourtCase.judgeFirstName" #judgeFirstName="ngModel" name="judgeFirstname" placeholder="First Name" required>
      <div *ngIf="judgeFirstName.invalid && (judgeFirstName.dirty || judgeFirstName.touched)" class="alert alert-danger" id="judgeFname-errors">
        <div *ngIf="judgeFirstName.errors.required">
          Name is required.
        </div>
      </div>
      <small id="judgeHelp" class="form-text text-muted">
        The name of the judge is listed at the end of the decision, order, or judgment that you are appealing.
      </small>
    </div>
    <div class="form-group col-md-6">
      <label for="judgeLname" class="col-form-label">Judge Last Name</label>
      <input type="text" id="judgeLname" class="form-control" [(ngModel)]="replyInfo.brief.circuitCourtCase.judgeLastName" #judgeLastName="ngModel" name="judgeLastname" placeholder="Last Name" required>
      <div *ngIf="judgeLastName.invalid && (judgeLastName.dirty || judgeLastName.touched)" class="alert alert-danger" id="judgeLname-errors">
        <div *ngIf="judgeLastName.errors.required">
          Name is required.
        </div>
      </div>
    </div>
  </div>
  <div class="form-group">
    <label for="opponentName" class="col-form-label">Opponent Name</label>
    <input type="text" id="opponentName" class="form-control" [(ngModel)]="replyInfo.brief.circuitCourtCase.opponentName" #opponentName="ngModel" name="opponentName" placeholder="Opponent Name" required>
    <div *ngIf="opponentName.invalid && (opponentName.dirty || opponentName.touched)" class="alert alert-danger" id="opponentName-errors">
      <div *ngIf="opponentName.errors.required">
        Name is required.
      </div>
    </div>
  </div>
  <div class="form-row">
    <fieldset>
      <legend>In my circuit court case, I was the:</legend>
      <div class="form-check" *ngFor="let k of roleKeys">
        <label class="form-check-label">
          <input class="form-check-input" type="radio" [(ngModel)]="replyInfo.brief.circuitCourtCase.role" name="role" [value]="k">
          {{roles[k]}}
        </label>
      </div>
    </fieldset>
  </div>
  <div class="form-group" style="padding-top: 10px;">
    <label for="appellateCourtCaseNumber" class="col-form-label" aria-describedby="appellateCourtCaseNumberHelp">Appellate Court Case Number</label>
    <input type="text" id="appellateCourtCaseNumber" class="form-control" [(ngModel)]="replyInfo.brief.appellateCourtCaseNumber" #appellateCourtCaseNumber="ngModel" name="appellateCourtCaseNumber" pattern="^\d{4}\w{2}\d{1,}$" placeholder="0000XX0000" required>
    <div *ngIf="appellateCourtCaseNumber.invalid && (appellateCourtCaseNumber.dirty || appellateCourtCaseNumber.touched)" class="alert alert-danger" id="appellateCourtCaseNumber-errors">
      <div *ngIf="appellateCourtCaseNumber.errors">
        The pattern for the appellate court case number is year (Ex: 2017), two court letters (Ex: AP), and then case number (Ex: 1234)
      </div>
    </div>
    <small id="appellateCourtCaseNumberHelp" class="form-text text-muted">
      You will find your appeal number on the document called Notice of Appeal and Circuit Court Record that you received from the court of appeals. Example: "No. 2017AP471."
    </small>
  </div>
  <h1>Brief Information</h1>
  <div class="form-group">
    <label for="argument" class="col-form-label" aria-describedby="argumentHelp">
      What is your Argument?
    </label>
    <textarea id="argument" class="form-control" [(ngModel)]="replyInfo.brief.argument" #argument="ngModel" name="argument" rows="8" required></textarea>
    <div *ngIf="argument.invalid && (argument.dirty || argument.touched)" class="alert alert-danger" id="argument-errors">
      <div *ngIf="argument.errors.required">
        Argument is required.
      </div>
    </div>
    <small class="form-text text-muted" id="argumentHelp">
      The Argument section should present each of the reasons you think the circuit court decided your case
      incorrectly. You may have one reason or several reasons. You should list each reason as a one-sentence
      "argument heading" followed by several paragraphs explaining why you should win on that point.
      Your Argument should refer to case law, statutes, constitutional provisions, and/or other regulations
      that support your point. The Brief Assistant will direct you to websites where you can find these legal
      resources. Your argument should be brief and clear. It should incorporate facts presented in the
      Statement of Case and Facts. The Argument section is required by
      <a href="https://docs.legis.wisconsin.gov/statutes/statutes/809/II/19/1/d" target="_blank">
        Wis. Stat. &sect;809.19(1)(d)
      </a>.
    </small>
  </div>
  <div class="form-group">
    <label for="conclusion" class="col-form-label" aria-describedby="conclusionHelp">
      What is your Conclusion?
    </label>
    <textarea id="conclusion" class="form-control" [(ngModel)]="replyInfo.brief.conclusion" #conclusion="ngModel" name="conclusion" rows="8" required></textarea>
    <div *ngIf="conclusion.invalid && (conclusion.dirty || conclusion.touched)" class="alert alert-danger" id="conclusion-errors">
      <div *ngIf="conclusion.errors.required">
        Conclusion is required.
      </div>
    </div>
    <small class="form-text text-muted" id="conclusionHelp">
      This section should be very short. It should simply tell the Court of Appeals what you want it to do.
      For example, you might want the Court of Appeals to reverse the entire circuit court decision or only
      part of it. You might want the Court of Appeals to send your case back to the circuit court for a
      hearing or a new trial. Be specific. The Conclusion section is required by
      <a href="https://docs.legis.wisconsin.gov/statutes/statutes/809/II/19/1/e" target="_blank">
        Wis. Stat. &sect;809.19(1)(e)
      </a>.
    </small>
  </div>
  <button class="btn btn-primary" routerLink="/reply-example" routerLinkActive="active">Back to Example</button>
  <button class="btn btn-primary" (click)="updateBrief()">Save And Finish Later</button>
  <button class="btn btn-primary" (click)="finishBrief()" [disabled]="!f.valid">Generate Brief</button>
</form>
