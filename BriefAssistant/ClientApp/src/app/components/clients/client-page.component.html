<form #f="ngForm">
  <h1>Client Information</h1>
  <div class="form-group">
    <label for="name" class="col-form-label">Name</label>
    <input type="text" id="name" class="form-control" [(ngModel)]="replyInfo.briefInfo.contactInfo.name" #name="ngModel" minlength="4" maxlength="100" name="name" placeholder="John Doe" required autocomplete="name">
    <div *ngIf="name.invalid && (name.dirty || name.touched)" class="alert alert-danger" id="name-errors">
      <div *ngIf="name.errors.required">
        Name is required.
      </div>
      <div *ngIf="name.errors.minlength">
        Name must be at least 4 characters long.
      </div>
      <div *ngIf="name.errors.maxlength">
        Name cannot be that long.
      </div>
    </div>
  </div>
  <div class="form-group">
    <label for="street" class="col-form-label">Address</label>
    <input type="text" id="street" class="form-control" [(ngModel)]="replyInfo.briefInfo.contactInfo.address.street" #street="ngModel" name="street" placeholder="1234 Main St." required autocomplete="address-line1">
    <div *ngIf="street.invalid && (street.dirty || street.touched)" class="alert alert-danger" id="street-errors">
      <div *ngIf="street.errors">
        Address is required.
      </div>
    </div>
  </div>
  <div class="form-group">
    <label for="street2" class="col-form-label">Address Line 2</label>
    <input type="text" id="street2" class="form-control" [(ngModel)]="replyInfo.briefInfo.contactInfo.address.street2" name="street2" placeholder="Apartment, studio, or floor" autocomplete="address-line2">
  </div>
  <div class="row">
    <div class="form-group col-md-6">
      <label for="city" class="col-form-label">City</label>
      <input type="text" id="city" class="form-control" [(ngModel)]="replyInfo.briefInfo.contactInfo.address.city" #city="ngModel" name="city" placeholder="City" required autocomplete="address-level2">
      <div *ngIf="city.invalid && (city.dirty || city.touched)" class="alert alert-danger" id="city-errors">
        <div *ngIf="city.errors">
          City name is required.
        </div>
      </div>
    </div>
    <div class="form-group col-md-4">
      <label for="state" class="col-form-label">State</label>
      <select id="state" [(ngModel)]="replyInfo.briefInfo.contactInfo.address.state" #state="ngModel" name="state" class="form-control" required>
        <option *ngFor="let k of stateKeys" [value]="k">{{states[k]}}</option>
      </select>
      <div *ngIf="state.invalid && (state.dirty || state.touched)" class="alert alert-danger">
        <div *ngIf="state.errors">
          State is required.
        </div>
      </div>
    </div>
    <div class="form-group col-md-2">
      <label for="zip" class="col-form-label">Zip</label>
      <input type="text" id="zip" class="form-control" [(ngModel)]="replyInfo.briefInfo.contactInfo.address.zip" #zip="ngModel" pattern="^\d{5}(?:[ \-]\d{4})?" name="zip" placeholder="12345" required autocomplete="postal-code">
      <div *ngIf="zip.invalid && (zip.dirty || zip.touched)" class="alert alert-danger" id="zip-errors">
        <div *ngIf="zip.errors.required">
          Zip is required and must be a number.
        </div>
        <div *ngIf="zip.errors.pattern">
          Zip may only contain 5 numbers or 9 numbers with a dash or space after the 5th number.
        </div>
      </div>
    </div>
  </div>
  <div class="form-group">
    <label for="phone" class="col-form-label">Phone</label>
    <input type="tel" id="phone" class="form-control" [(ngModel)]="replyInfo.briefInfo.contactInfo.phone" #phone="ngModel" pattern="^(\+\d{1,2}\s)?\(?\d{3}\)?[\s.-]?\d{3}[\s.-]?\d{4}$" name="phone" placeholder="(123) 456-7890" required autocomplete="tel-national">
    <div *ngIf="phone.invalid && (phone.dirty || phone.touched)" class="alert alert-danger" id="phone-errors">
      <div *ngIf="phone.errors">
        Valid phone number is required.
      </div>
    </div>
  </div>
  <div class="form-group">
    <label for="email" class="col-form-label">Email</label>
    <input type="email" id="email" class="form-control" [(ngModel)]="replyInfo.briefInfo.contactInfo.email" ngModel [email]="true" #email="ngModel" name="email" placeholder="johndoe@example.com" required autocomplete="email">
    <div *ngIf="email.invalid && (email.dirty || email.touched)" class="alert alert-danger" id="email-errors">
      <div *ngIf="email.errors">
        Valid email is required.
      </div>
    </div>
  </div>
  <button class="btn btn-primary" routerLink="/clients" routerLinkActive="active">Cancel</button>
  <button class="btn btn-primary" [disabled]="!f.valid">Save Information</button>
</form>
